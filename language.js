// Language translations
const translations = {
    en: {
        nav: {
            features: "Features",
            download: "Download",
            privacy: "Privacy",
            deleteAccount: "Delete Account",
            home: "Home"
        },
        hero: {
            title: "Discover Stories That Speak to You",
            subtitle: "Immerse yourself in thousands of audiobooks, anytime, anywhere",
            ctaPrimary: "Get Started Free",
            ctaSecondary: "Learn More"
        },
        features: {
            title: "Why Choose abook?",
            library: {
                title: "Vast Library",
                description: "Access thousands of audiobooks across every genre imaginable"
            },
            sync: {
                title: "Sync Across Devices",
                description: "Pick up right where you left off on any device"
            },
            sleep: {
                title: "Sleep Timer",
                description: "Fall asleep to your favorite stories with our built-in timer"
            }
        },
        preview: {
            title: "Your Library, Always With You",
            description: "Experience seamless listening with our beautifully designed app. Browse, download, and enjoy your favorite audiobooks with an interface built for book lovers.",
            feature1: "Beautiful, intuitive interface",
            feature2: "Smart bookmarking and notes",
            feature3: "Customizable playback settings",
            feature4: "CarPlay and Android Auto support"
        },
        download: {
            title: "Start Listening Today",
            subtitle: "Available on iOS and Android"
        },
        footer: {
            tagline: "Your personal audiobook companion",
            legal: "Legal",
            privacy: "Privacy Policy",
            deleteAccount: "Delete Account",
            support: "Support",
            help: "Help Center",
            contact: "Contact Us",
            copyright: "© 2026 abook. All rights reserved."
        },
        deleteAccount: {
            title: "Delete abook Account",
            intro: "To request deletion of your abook account and associated data, please email",
            intro2: "from the email address used to create your account.",
            process: "We will process your deletion request within 30 days.",
            whatHappens: "What happens when you delete your account?",
            bullet1: "Your account will be permanently deleted",
            bullet2: "All associated data will be removed from our systems",
            bullet3: "This action cannot be undone",
            note: "Note:",
            noteText: "Please ensure you send the deletion request from the email address registered with your abook account to verify your identity."
        },
        privacy: {
            title: "Privacy Policy for abook",
            lastUpdated: "Last updated:",
            intro1: "This Privacy Policy explains how abook (\"we\", \"us\", \"our\") collects, uses, and protects personal data when you use the abook application (\"Service\").",
            intro2: "By using the Service, you agree to this Privacy Policy.",
            section1: {
                title: "1. Definitions",
                app: "Application",
                appDef: "abook mobile application",
                company: "Company",
                companyDef: "ABlest d.o.o., Ul. Velimira Terzića 5, Podgorica, Montenegro",
                personal: "Personal Data",
                personalDef: "Information that identifies or can identify an individual",
                usage: "Usage Data",
                usageDef: "Data collected automatically through use of the Service",
                you: "You",
                youDef: "The individual using the Service"
            },
            section2: {
                title: "2. Data We Collect",
                personalTitle: "Personal Data",
                email: "Email address",
                name: "First name and last name",
                photo: "Optional profile photo (if you choose to upload one)",
                photoNote: "Providing a profile photo is optional.",
                usageTitle: "Usage Data",
                usageIntro: "Collected automatically and may include:",
                ip: "IP address",
                device: "Device type and operating system",
                stats: "App usage statistics (e.g. time spent, features used)",
                diagnostic: "Diagnostic and crash data"
            },
            section3: {
                title: "3. How We Use Your Data",
                intro: "We use data only to:",
                provide: "Provide and operate the Service",
                manage: "Manage user accounts",
                process: "Process subscriptions through app store platforms",
                communicate: "Communicate service-related information",
                improve: "Improve functionality and performance",
                security: "Ensure security and prevent abuse",
                noSell: "We do",
                not: "not",
                sellEnd: "sell personal data."
            },
            section4: {
                title: "4. Payments",
                text1: "All payments and subscriptions are handled by third-party app stores (e.g. Apple App Store, Google Play).",
                text2: "We do not store or process payment card information."
            },
            section5: {
                title: "5. Data Sharing",
                intro: "We may share data only with:",
                providers: "Service providers necessary to operate the Service",
                authorities: "Authorities when legally required",
                successor: "A successor entity in case of merger or acquisition",
                outro: "All parties are required to protect your data."
            },
            section6: {
                title: "6. Data Retention",
                text1: "Personal Data is retained only as long as necessary to provide the Service or meet legal obligations.",
                text2: "Usage Data may be retained for analytics and security purposes for a limited time."
            },
            section7: {
                title: "7. International Transfers",
                text1: "Your data may be processed outside your country of residence.",
                text2: "We ensure appropriate safeguards are in place."
            },
            section8: {
                title: "8. Your Rights",
                intro: "You may:",
                access: "Access your data",
                correct: "Request correction or deletion",
                delete: "Delete your account from within the app (where available)",
                contact: "Contact us to exercise your rights",
                outro: "Some data may be retained if legally required."
            },
            section9: {
                title: "9. Security",
                text1: "We use reasonable technical and organizational measures to protect your data.",
                text2: "No system is 100% secure."
            },
            section10: {
                title: "10. Children's Privacy",
                text1: "The Service is",
                notDirected: "not directed at children under the age of 13",
                text2: "We do",
                notCollect: "not knowingly collect",
                text3: "personal data from children under 13.",
                text4: "If such data is identified, it will be deleted promptly."
            },
            section11: {
                title: "11. Third-Party Links",
                text1: "The Service may contain links to external websites.",
                text2: "We are not responsible for their privacy practices."
            },
            section12: {
                title: "12. Changes to This Policy",
                text1: "We may update this Privacy Policy from time to time.",
                text2: "Changes will be posted here with an updated date."
            },
            section13: {
                title: "13. Contact",
                text1: "For questions or requests regarding privacy:",
                email: "Email:"
            }
        },
        langToggle: "ME"
    },
    me: {
        nav: {
            features: "Funkcije",
            download: "Preuzmi",
            privacy: "Privatnost",
            deleteAccount: "Obriši nalog",
            home: "Početna"
        },
        hero: {
            title: "Otkrijte priče koje vam govore",
            subtitle: "Uronite u hiljade audio knjiga, bilo kada, bilo gdje",
            ctaPrimary: "Počnite besplatno",
            ctaSecondary: "Saznajte više"
        },
        features: {
            title: "Zašto izabrati abook?",
            library: {
                title: "Bogata biblioteka",
                description: "Pristupite hiljadama audio knjiga svih žanrova"
            },
            sync: {
                title: "Sinhronizacija između uređaja",
                description: "Nastavite tačno gdje ste stali na bilo kom uređaju"
            },
            sleep: {
                title: "Tajmer za spavanje",
                description: "Zaspite uz omiljene priče sa ugrađenim tajmerom"
            }
        },
        preview: {
            title: "Vaša biblioteka, uvijek sa vama",
            description: "Doživite besprijekorno slušanje sa našom lijepo dizajniranom aplikacijom. Pretražujte, preuzimajte i uživajte u omiljenim audio knjigama sa interfejsom napravljenim za ljubitelje knjiga.",
            feature1: "Lijep, intuitivan interfejs",
            feature2: "Pametni bookmarks i bilješke",
            feature3: "Prilagodljiva podešavanja reprodukcije",
            feature4: "CarPlay i Android Auto podrška"
        },
        download: {
            title: "Počnite slušati danas",
            subtitle: "Dostupno na iOS i Android platformama"
        },
        footer: {
            tagline: "Vaš lični pratilac za audio knjige",
            legal: "Pravno",
            privacy: "Politika privatnosti",
            deleteAccount: "Obriši nalog",
            support: "Podrška",
            help: "Centar za pomoć",
            contact: "Kontaktirajte nas",
            copyright: "© 2026 abook. Sva prava zadržana."
        },
        deleteAccount: {
            title: "Obriši abook nalog",
            intro: "Da biste zatražili brisanje vašeg abook naloga i povezanih podataka, molimo pošaljite email na",
            intro2: "sa email adrese koju ste koristili za kreiranje naloga.",
            process: "Obradiće se vaš zahtjev za brisanje u roku od 30 dana.",
            whatHappens: "Šta se dešava kada obrišete nalog?",
            bullet1: "Vaš nalog će biti trajno obrisan",
            bullet2: "Svi povezani podaci će biti uklonjeni iz naših sistema",
            bullet3: "Ova radnja se ne može poništiti",
            note: "Napomena:",
            noteText: "Molimo osigurajte da pošaljete zahtjev za brisanje sa email adrese registrovane sa vašim abook nalogom kako biste verifikovali vaš identitet."
        },
        privacy: {
            title: "Politika privatnosti za abook",
            lastUpdated: "Posljednje ažurirano:",
            intro1: "Ova Politika privatnosti objašnjava kako abook (\"mi\", \"nas\", \"naš\") prikuplja, koristi i štiti lične podatke kada koristite abook aplikaciju (\"Servis\").",
            intro2: "Korištenjem Servisa, pristajete na ovu Politiku privatnosti.",
            section1: {
                title: "1. Definicije",
                app: "Aplikacija",
                appDef: "abook mobilna aplikacija",
                company: "Kompanija",
                companyDef: "ABlest d.o.o., Ul. Velimira Terzića 5, Podgorica, Crna Gora",
                personal: "Lični podaci",
                personalDef: "Informacije koje identifikuju ili mogu identifikovati pojedinca",
                usage: "Podaci o korištenju",
                usageDef: "Podaci prikupljeni automatski tokom korištenja Servisa",
                you: "Vi",
                youDef: "Pojedinac koji koristi Servis"
            },
            section2: {
                title: "2. Podaci koje prikupljamo",
                personalTitle: "Lični podaci",
                email: "Email adresa",
                name: "Ime i prezime",
                photo: "Opciona profilna fotografija (ako odaberete da je postavite)",
                photoNote: "Postavljanje profilne fotografije je opciono.",
                usageTitle: "Podaci o korištenju",
                usageIntro: "Prikupljaju se automatski i mogu uključivati:",
                ip: "IP adresu",
                device: "Tip uređaja i operativni sistem",
                stats: "Statistike korištenja aplikacije (npr. provedeno vrijeme, korištene funkcije)",
                diagnostic: "Dijagnostičke podatke i podatke o padovima"
            },
            section3: {
                title: "3. Kako koristimo vaše podatke",
                intro: "Koristimo podatke samo za:",
                provide: "Pružanje i rad Servisa",
                manage: "Upravljanje korisničkim nalozima",
                process: "Obradu pretplata kroz platforme app store-a",
                communicate: "Komunikaciju informacija vezanih za servis",
                improve: "Poboljšanje funkcionalnosti i performansi",
                security: "Osiguranje sigurnosti i sprječavanje zloupotrebe",
                noSell: "Mi",
                not: "ne",
                sellEnd: "prodajemo lične podatke."
            },
            section4: {
                title: "4. Plaćanja",
                text1: "Sva plaćanja i pretplate se obrađuju preko app store-a trećih strana (npr. Apple App Store, Google Play).",
                text2: "Mi ne čuvamo niti obrađujemo informacije platnih kartica."
            },
            section5: {
                title: "5. Dijeljenje podataka",
                intro: "Možemo dijeliti podatke samo sa:",
                providers: "Pružaocima usluga neophodnim za rad Servisa",
                authorities: "Vlastima kada je to zakonski obavezno",
                successor: "Nasljednim entitetom u slučaju spajanja ili preuzimanja",
                outro: "Sve strane su obavezne da štite vaše podatke."
            },
            section6: {
                title: "6. Čuvanje podataka",
                text1: "Lični podaci se čuvaju samo onoliko dugo koliko je potrebno za pružanje Servisa ili ispunjenje zakonskih obaveza.",
                text2: "Podaci o korištenju mogu biti zadržani za analitičke i sigurnosne svrhe ograničeno vrijeme."
            },
            section7: {
                title: "7. Međunarodni transferi",
                text1: "Vaši podaci mogu biti obrađivani izvan vaše zemlje prebivališta.",
                text2: "Osiguravamo da su odgovarajuće zaštitne mjere na snazi."
            },
            section8: {
                title: "8. Vaša prava",
                intro: "Možete:",
                access: "Pristupiti vašim podacima",
                correct: "Zatražiti ispravku ili brisanje",
                delete: "Obrisati vaš nalog iz aplikacije (gdje je dostupno)",
                contact: "Kontaktirati nas da biste ostvarili svoja prava",
                outro: "Neki podaci mogu biti zadržani ako je to zakonski obavezno."
            },
            section9: {
                title: "9. Sigurnost",
                text1: "Koristimo razumne tehničke i organizacione mjere za zaštitu vaših podataka.",
                text2: "Nijedan sistem nije 100% siguran."
            },
            section10: {
                title: "10. Privatnost djece",
                text1: "Servis",
                notDirected: "nije usmjeren na djecu mlađu od 13 godina",
                text2: "Mi",
                notCollect: "ne prikupljamo svjesno",
                text3: "lične podatke djece mlađe od 13 godina.",
                text4: "Ako se takvi podaci identifikuju, biće odmah obrisani."
            },
            section11: {
                title: "11. Linkovi trećih strana",
                text1: "Servis može sadržavati linkove ka eksternim web stranicama.",
                text2: "Nismo odgovorni za njihove prakse privatnosti."
            },
            section12: {
                title: "12. Izmjene ove Politike",
                text1: "Možemo ažurirati ovu Politiku privatnosti s vremena na vrijeme.",
                text2: "Izmjene će biti objavljene ovdje sa ažuriranim datumom."
            },
            section13: {
                title: "13. Kontakt",
                text1: "Za pitanja ili zahtjeve u vezi privatnosti:",
                email: "Email:"
            }
        },
        langToggle: "EN"
    }
};

// Get current language from localStorage or default to English
let currentLang = localStorage.getItem('abook-lang') || 'en';

// Function to set language
function setLanguage(lang) {
    currentLang = lang;
    localStorage.setItem('abook-lang', lang);
    updateContent();
    updateToggleButton();
}

// Function to update all content
function updateContent() {
    const t = translations[currentLang];
    
    // Update all elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const keys = element.getAttribute('data-i18n').split('.');
        let value = t;
        
        for (const key of keys) {
            value = value[key];
        }
        
        if (value) {
            element.textContent = value;
        }
    });
}

// Function to update toggle button text
function updateToggleButton() {
    const toggleBtn = document.getElementById('lang-toggle');
    if (toggleBtn) {
        toggleBtn.textContent = translations[currentLang].langToggle;
    }
}

// Function to toggle language
function toggleLanguage() {
    const newLang = currentLang === 'en' ? 'me' : 'en';
    setLanguage(newLang);
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', function() {
    updateContent();
    updateToggleButton();
    
    // Add click event to toggle button
    const toggleBtn = document.getElementById('lang-toggle');
    if (toggleBtn) {
        toggleBtn.addEventListener('click', toggleLanguage);
    }
});
